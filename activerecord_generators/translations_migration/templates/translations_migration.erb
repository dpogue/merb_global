class AddTranslationsMigration < Sequel::Migration
  def up
    create_table :merb_global_languages do
      t.string	  :name,         :limit => 16
      t.string    :plural,       :size => 128
    end
    add_index :merb_global_languages, :name, :unique => true
    create_table :merb_global_translations,
                 :id => false, :primary_key => [:language_id,
                                                :msgid_hash,
                                                :msgstr_index] do |t|
      t.integer   :language_id,  :null => false
      t.integer   :msgid_hash,   :null => false
      t.text	  :msgstr,	 :null => false
      t.integer   :msgstr_index, :null => false
    end
  end
  def down
    drop_table :merb_global_languages, :merb_global_translations
  end
end
